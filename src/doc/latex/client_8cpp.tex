\hypertarget{client_8cpp}{}\section{Riferimenti per il file client.\+cpp}
\label{client_8cpp}\index{client.\+cpp@{client.\+cpp}}


Client.  


{\ttfamily \#include $<$cstdio$>$}\\*
{\ttfamily \#include $<$cstdlib$>$}\\*
{\ttfamily \#include $<$ctime$>$}\\*
{\ttfamily \#include $<$cinttypes$>$}\\*
{\ttfamily \#include $<$csignal$>$}\\*
{\ttfamily \#include \char`\"{}Networking/\+Networking.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}B\+A\+S\+E\+\_\+encoding/base32.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}File\+System/\+F\+S.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Headers.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}A\+E\+S/aes.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}config/config.\+h\char`\"{}}\\*
Grafo delle dipendenze di inclusione per client.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{client_8cpp__incl}
\end{center}
\end{figure}
\subsection*{Definizioni}
\begin{DoxyCompactItemize}
\item 
\#define {\bfseries \+\_\+\+F\+I\+L\+E\+\_\+\+O\+F\+F\+S\+E\+T\+\_\+\+B\+I\+TS}~64\hypertarget{client_8cpp_a44d01ba0a136b8e27ad362f5a823d14e}{}\label{client_8cpp_a44d01ba0a136b8e27ad362f5a823d14e}

\end{DoxyCompactItemize}
\subsection*{Funzioni}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{client_8cpp_a56e13ca67f5209b06bb1f1776550519e}{load\+Cfg} (char $\ast$config\+File)
\begin{DoxyCompactList}\small\item\em Caricamento della configurazione da file. \end{DoxyCompactList}\item 
int \hyperlink{client_8cpp_abd98a7bbb79f610827af69e06b435bbd}{ask\+Identity} (\hyperlink{structconnection__t}{connection\+\_\+t} socket)
\begin{DoxyCompactList}\small\item\em Richiesta di identità del server Viene richiesta al server la firma digitale di una stringa casuale generata dal client, quindi viene verificata mediante la chiave memorizzata in memoria. \end{DoxyCompactList}\item 
void \hyperlink{client_8cpp_a720f3388952905f8678f7311e921d1e7}{save\+Pkey} (\hyperlink{structconnection__t}{connection\+\_\+t} server)
\begin{DoxyCompactList}\small\item\em Salva una chiave pubblica in memoria La funzione richiederà al server la sua chiave pubblica e la memorizzerà in un file .public in memoria. \end{DoxyCompactList}\item 
int \hyperlink{client_8cpp_a4b5c13bd3f6431ce2b14d8bd5137a78a}{new\+Bak} (int port)
\begin{DoxyCompactList}\small\item\em La funzione inizia la trasmissione di un nuovo backup. \end{DoxyCompactList}\item 
int {\bfseries main} (int argc, char $\ast$$\ast$argv)\hypertarget{client_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}{}\label{client_8cpp_a3c04138a5bfe5d72780bb7e82a18e627}

\end{DoxyCompactItemize}
\subsection*{Variabili}
\begin{DoxyCompactItemize}
\item 
int {\bfseries server\+\_\+port}\hypertarget{client_8cpp_af204d2d7af5cc273a2b38359c4c09c99}{}\label{client_8cpp_af204d2d7af5cc273a2b38359c4c09c99}

\item 
char $\ast$ {\bfseries server\+\_\+ip}\hypertarget{client_8cpp_a182d69acd4e02e6c0a027622a4556e53}{}\label{client_8cpp_a182d69acd4e02e6c0a027622a4556e53}

\item 
int {\bfseries is\+Encrypted}\hypertarget{client_8cpp_a1f2adafcac1b6ab58e9d3e9a9d219032}{}\label{client_8cpp_a1f2adafcac1b6ab58e9d3e9a9d219032}

\item 
int {\bfseries timeout}\hypertarget{client_8cpp_a493b57f443cc38b3d3df9c1e584d9d82}{}\label{client_8cpp_a493b57f443cc38b3d3df9c1e584d9d82}

\item 
char $\ast$$\ast$ {\bfseries files}\hypertarget{client_8cpp_a047d85a0e14d2ae13523bab2ed49f70b}{}\label{client_8cpp_a047d85a0e14d2ae13523bab2ed49f70b}

\item 
int {\bfseries file\+Numbers} = 0\hypertarget{client_8cpp_abdb4ba2d19a986e198505a1f263a1acd}{}\label{client_8cpp_abdb4ba2d19a986e198505a1f263a1acd}

\item 
int {\bfseries transfer\+\_\+block\+\_\+size}\hypertarget{client_8cpp_ad7e838552138781c9e6bc1606c2b1660}{}\label{client_8cpp_ad7e838552138781c9e6bc1606c2b1660}

\item 
char {\bfseries key} \mbox{[}32\mbox{]}\hypertarget{client_8cpp_aba8ec8b73c06b7c981b67e88184a1d08}{}\label{client_8cpp_aba8ec8b73c06b7c981b67e88184a1d08}

\item 
int {\bfseries interval}\hypertarget{client_8cpp_ae0c690118932b32ef40a74bb6a259acd}{}\label{client_8cpp_ae0c690118932b32ef40a74bb6a259acd}

\item 
uint8\+\_\+t $\ast$ {\bfseries data}\hypertarget{client_8cpp_abe222f6d3581e7920dcad5306cc906a8}{}\label{client_8cpp_abe222f6d3581e7920dcad5306cc906a8}

\item 
char $\ast$$\ast$ {\bfseries file}\hypertarget{client_8cpp_ab8055e05865bc04373bc4e75fedf2d19}{}\label{client_8cpp_ab8055e05865bc04373bc4e75fedf2d19}

\item 
char {\bfseries configF} \mbox{[}512\mbox{]}\hypertarget{client_8cpp_a24ef95dbb465c74790c9a6e9de1e17c0}{}\label{client_8cpp_a24ef95dbb465c74790c9a6e9de1e17c0}

\end{DoxyCompactItemize}


\subsection{Descrizione dettagliata}
Client. 

\begin{DoxyVersion}{Versione}
1.\+0 
\end{DoxyVersion}
\begin{DoxyAuthor}{Autore}
Stefano 
\end{DoxyAuthor}
\begin{DoxyDate}{Data}
28-\/10-\/2017 
\end{DoxyDate}


\subsection{Documentazione delle funzioni}
\index{client.\+cpp@{client.\+cpp}!ask\+Identity@{ask\+Identity}}
\index{ask\+Identity@{ask\+Identity}!client.\+cpp@{client.\+cpp}}
\subsubsection[{\texorpdfstring{ask\+Identity(connection\+\_\+t socket)}{askIdentity(connection_t socket)}}]{\setlength{\rightskip}{0pt plus 5cm}int ask\+Identity (
\begin{DoxyParamCaption}
\item[{{\bf connection\+\_\+t}}]{socket}
\end{DoxyParamCaption}
)}\hypertarget{client_8cpp_abd98a7bbb79f610827af69e06b435bbd}{}\label{client_8cpp_abd98a7bbb79f610827af69e06b435bbd}


Richiesta di identità del server Viene richiesta al server la firma digitale di una stringa casuale generata dal client, quindi viene verificata mediante la chiave memorizzata in memoria. 


\begin{DoxyParams}{Parametri}
{\em socket\mbox{[}in\mbox{]}} & struttura parametri di connessione \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
-\/10 in caso il file relativo al server non esista o non sia accessibile, 1 in caso di verifica esatta, 0 altriemeti 
\end{DoxyReturn}
\index{client.\+cpp@{client.\+cpp}!load\+Cfg@{load\+Cfg}}
\index{load\+Cfg@{load\+Cfg}!client.\+cpp@{client.\+cpp}}
\subsubsection[{\texorpdfstring{load\+Cfg(char $\ast$config\+File)}{loadCfg(char *configFile)}}]{\setlength{\rightskip}{0pt plus 5cm}int load\+Cfg (
\begin{DoxyParamCaption}
\item[{char $\ast$}]{config\+File}
\end{DoxyParamCaption}
)}\hypertarget{client_8cpp_a56e13ca67f5209b06bb1f1776550519e}{}\label{client_8cpp_a56e13ca67f5209b06bb1f1776550519e}


Caricamento della configurazione da file. 


\begin{DoxyParams}{Parametri}
{\em config\+File\mbox{[}in\mbox{]}} & Nome del file di configurazione \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Restituisce}
0 in caso di riuscita, -\/1 altrimenti 
\end{DoxyReturn}
\begin{DoxyRefDesc}{Bug}
\item[\hyperlink{bug__bug000001}{Bug}]In caso una proprietà non sia presente segfault \end{DoxyRefDesc}
\index{client.\+cpp@{client.\+cpp}!new\+Bak@{new\+Bak}}
\index{new\+Bak@{new\+Bak}!client.\+cpp@{client.\+cpp}}
\subsubsection[{\texorpdfstring{new\+Bak(int port)}{newBak(int port)}}]{\setlength{\rightskip}{0pt plus 5cm}int new\+Bak (
\begin{DoxyParamCaption}
\item[{int}]{port}
\end{DoxyParamCaption}
)}\hypertarget{client_8cpp_a4b5c13bd3f6431ce2b14d8bd5137a78a}{}\label{client_8cpp_a4b5c13bd3f6431ce2b14d8bd5137a78a}


La funzione inizia la trasmissione di un nuovo backup. 


\begin{DoxyParams}{Parametri}
{\em port\mbox{[}in\mbox{]}} & Porta di comunicazione con il server tramite protocollo T\+CP \\
\hline
\end{DoxyParams}
\index{client.\+cpp@{client.\+cpp}!save\+Pkey@{save\+Pkey}}
\index{save\+Pkey@{save\+Pkey}!client.\+cpp@{client.\+cpp}}
\subsubsection[{\texorpdfstring{save\+Pkey(connection\+\_\+t server)}{savePkey(connection_t server)}}]{\setlength{\rightskip}{0pt plus 5cm}void save\+Pkey (
\begin{DoxyParamCaption}
\item[{{\bf connection\+\_\+t}}]{server}
\end{DoxyParamCaption}
)}\hypertarget{client_8cpp_a720f3388952905f8678f7311e921d1e7}{}\label{client_8cpp_a720f3388952905f8678f7311e921d1e7}


Salva una chiave pubblica in memoria La funzione richiederà al server la sua chiave pubblica e la memorizzerà in un file .public in memoria. 


\begin{DoxyParams}{Parametri}
{\em server\mbox{[}in\mbox{]}} & struttura parametri di connessione. \\
\hline
\end{DoxyParams}
